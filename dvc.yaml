stages:
  prepare_environment:
    cmd: PYTHONPATH=$(pwd)/src python $(pwd)/src/stages/prepare_environment.py
    deps:
      - src/utility/load.py
      - src/utility/directory.py
      - src/utility/model.py
      - src/utility/device.py
    params:
      - prepare_environment
      - training
    outs:
      - data/processed/model_summary.txt
      - data/processed/checkpoint 

  preprocess_data:
    cmd: PYTHONPATH=$(pwd)/src python $(pwd)/src/stages/preprocess_data.py
    deps:
      - src/utility/load.py
      - src/utility/directory.py
      - src/utility/video.py
      - src/utility/file.py
    params:
      - preprocess
      - prepare_environment
    outs:
      - data/interim/trim_data.pt

